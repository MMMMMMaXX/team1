{"remainingRequest":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\babel-loader\\lib\\index.js!C:\\Briup\\Briup_Project\\briup-app-customer\\src\\store\\shopcart\\shopcart.js","dependencies":[{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\src\\store\\shopcart\\shopcart.js","mtime":1625194801975},{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L0JyaXVwL0JyaXVwX1Byb2plY3QvYnJpdXAtYXBwLWN1c3RvbWVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLyDpnIDopoHlronoo4UgbG9kYXNoCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICAvLyDpgJrov4dwcm9kdWN0SWQgLS0+IHtwcm9kdWN0SWQscHJvZHVjdE5hbWUscHJpY2UsbnVtYmVyfQogICAgb3JkZXJMaW5lczogbmV3IE1hcCgpCiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvLyDorqHnrpfmgLvph5Hpop0KICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbChzdGF0ZSkgewogICAgICB2YXIgcmVzdWx0ID0gMDsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdGF0ZS5vcmRlckxpbmVzLnZhbHVlcygpKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIG9yZGVyTGluZSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgcmVzdWx0ICs9IG9yZGVyTGluZS5wcmljZSAqIG9yZGVyTGluZS5udW1iZXI7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8vIOa3u+WKoOi0reeJqei9pgogICAgYWRkU2hvcGNhcnQ6IGZ1bmN0aW9uIGFkZFNob3BjYXJ0KHN0YXRlLCBvcmRlckxpbmUpIHsKICAgICAgLy8gbWFwLnNldCgia2V5Iix2YWx1ZSkg6YCa6L+Ha2V5IOS/neWtmCB2YWx1ZQogICAgICBzdGF0ZS5vcmRlckxpbmVzLnNldChvcmRlckxpbmUucHJvZHVjdElkLCBvcmRlckxpbmUpOyAvLyDlhYvpmoblr7nosaHmlLnlj5jlvJXnlKjlnLDlnYDvvIzorqnnm5HlkKzmnLrliLbnm5HlkKzliLBvcmRlckxpbmVz55qE5Y+Y5YyWCgogICAgICBzdGF0ZS5vcmRlckxpbmVzID0gXy5jbG9uZShzdGF0ZS5vcmRlckxpbmVzKTsKICAgIH0sCiAgICAvLyDmuIXnqbrotK3nianovaYKICAgIGNsZWFyU2hvcGNhcnQ6IGZ1bmN0aW9uIGNsZWFyU2hvcGNhcnQoc3RhdGUpIHsKICAgICAgc3RhdGUub3JkZXJMaW5lcy5jbGVhcigpOwogICAgICBzdGF0ZS5vcmRlckxpbmVzID0gXy5jbG9uZShzdGF0ZS5vcmRlckxpbmVzKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHt9Cn07"},{"version":3,"sources":["C:/Briup/Briup_Project/briup-app-customer/src/store/shopcart/shopcart.js"],"names":["_","namespaced","state","orderLines","Map","getters","total","result","values","orderLine","price","number","mutations","addShopcart","set","productId","clone","clearShopcart","clear","actions"],"mappings":";;;;;AAAA;AACA,OAAOA,CAAP,MAAc,QAAd;AACA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACL;AACAC,IAAAA,UAAU,EAAE,IAAIC,GAAJ;AAFP,GAFM;AAMbC,EAAAA,OAAO,EAAE;AACP;AACAC,IAAAA,KAFO,iBAEDJ,KAFC,EAEM;AACX,UAAIK,MAAM,GAAG,CAAb;;AADW,iDAEWL,KAAK,CAACC,UAAN,CAAiBK,MAAjB,EAFX;AAAA;;AAAA;AAEX,4DAAiD;AAAA,cAAxCC,SAAwC;AAC/CF,UAAAA,MAAM,IAAIE,SAAS,CAACC,KAAV,GAAkBD,SAAS,CAACE,MAAtC;AACD;AAJU;AAAA;AAAA;AAAA;AAAA;;AAKX,aAAOJ,MAAP;AACD;AARM,GANI;AAgBbK,EAAAA,SAAS,EAAE;AACT;AACAC,IAAAA,WAFS,uBAEGX,KAFH,EAEUO,SAFV,EAEqB;AAC5B;AACAP,MAAAA,KAAK,CAACC,UAAN,CAAiBW,GAAjB,CAAqBL,SAAS,CAACM,SAA/B,EAA0CN,SAA1C,EAF4B,CAI5B;;AACAP,MAAAA,KAAK,CAACC,UAAN,GAAmBH,CAAC,CAACgB,KAAF,CAAQd,KAAK,CAACC,UAAd,CAAnB;AACD,KARQ;AAST;AACAc,IAAAA,aAVS,yBAUKf,KAVL,EAUY;AACnBA,MAAAA,KAAK,CAACC,UAAN,CAAiBe,KAAjB;AACAhB,MAAAA,KAAK,CAACC,UAAN,GAAmBH,CAAC,CAACgB,KAAF,CAAQd,KAAK,CAACC,UAAd,CAAnB;AACD;AAbQ,GAhBE;AA+BbgB,EAAAA,OAAO,EAAE;AA/BI,CAAf","sourcesContent":["// 需要安装 lodash\nimport _ from 'lodash'\nexport default {\n  namespaced: true,\n  state: {\n    // 通过productId --> {productId,productName,price,number}\n    orderLines: new Map()\n  },\n  getters: {\n    // 计算总金额\n    total(state) {\n      let result = 0;\n      for (let orderLine of state.orderLines.values()) {\n        result += orderLine.price * orderLine.number;\n      }\n      return result;\n    }\n  },\n  mutations: {\n    // 添加购物车\n    addShopcart(state, orderLine) {\n      // map.set(\"key\",value) 通过key 保存 value\n      state.orderLines.set(orderLine.productId, orderLine);\n\n      // 克隆对象改变引用地址，让监听机制监听到orderLines的变化\n      state.orderLines = _.clone(state.orderLines)\n    },\n    // 清空购物车\n    clearShopcart(state) {\n      state.orderLines.clear();\n      state.orderLines = _.clone(state.orderLines)\n    }\n  },\n  actions: {\n\n  }\n}"]}]}