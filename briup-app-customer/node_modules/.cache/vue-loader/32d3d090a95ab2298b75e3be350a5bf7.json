{"remainingRequest":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Briup\\Briup_Project\\briup-app-customer\\src\\views\\Product\\product.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\src\\views\\Product\\product.vue","mtime":1625194128964},{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Briup\\Briup_Project\\briup-app-customer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+W8leWFpQ0KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+agueaNrummlumhteeCueWHu+eahOe0ouW8le+8jOehruWumuS+p+i+ueiPnOWNleagjyDpu5jorqTooqvngrnlh7vnmoTmmK/lk6rkuIDkuKoNCiAgICAgIGFjdGl2ZUtleTogdGhpcy4kcm91dGUucXVlcnkua2V5LA0KICAgICAgLy/pppbpobXngrnlh7vot7PovazliLDkuqflk4HpobXpnaLml7Yg5Lyg6YCS55qEaWQNCiAgICAgIGNhdGVnb3J5SWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKCJjYXRlZ29yeSIsIFsiZ2V0QWxsQ2F0ZWdvcnlEYXRhIl0pLA0KICAgIC4uLm1hcEFjdGlvbnMoInByb2R1Y3QiLCBbImdldEFsbFByb2R1Y3REYXRhIl0pLA0KICAgIC4uLm1hcEFjdGlvbnMoInNob3BjYXJ0IiwgWyJhZGRTaG9wY2FydCIsICJjbGVhclNob3BjYXJ0Il0pLA0KICAgIC8v6I635Y+W5qCP55uu5pWw5o2uDQogICAgcXVlcnlDYXRlZ29yeSgpIHsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAwLA0KICAgICAgfTsNCiAgICAgIHRoaXMuZ2V0QWxsQ2F0ZWdvcnlEYXRhKGRhdGEpOw0KICAgIH0sDQogICAgLy/ojrflj5bkuqflk4HmlbDmja4NCiAgICBxdWVyeVByb2R1Y3QoKSB7DQogICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgcGFnZTogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwMCwNCiAgICAgICAgcHJvZHVjdENhdGVnb3J5SWQ6IHRoaXMuY2F0ZWdvcnlJZCwNCiAgICAgIH07DQogICAgICB0aGlzLmdldEFsbFByb2R1Y3REYXRhKGRhdGEpOw0KICAgIH0sDQogICAgLy/moLnmja7lt6bovrnlr7zoiKrmoI8g6I635Y+W5LiN5ZCM5pWw5o2uDQogICAgb25DaGFuZ2UoaW5kZXgpIHsNCiAgICAgIHRoaXMuY2F0ZWdvcnlJZCA9IHRoaXMuY2F0ZWdyb3lEYXRhW2luZGV4XS5pZDsNCiAgICAgIHRoaXMucXVlcnlQcm9kdWN0KCk7DQogICAgfSwNCiAgICBvbkNsaWNrTGVmdCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7DQogICAgfSwNCiAgICAvL+agueaNruebkeWQrOatpei/m+WZqOiOt+WPluS6p+WTgeS/oeaBrw0KICAgIG51bWJlckNoYW5nZUhhbmRsZXIocHJvZHVjdCkgew0KICAgICAgLy/lrprkuYnkuIDkuKrkuqflk4Hlj4LmlbANCiAgICAgIGxldCBvcmRlckxpbmUgPSB7DQogICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdC5pZCwNCiAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3QubmFtZSwNCiAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsDQogICAgICAgIG51bWJlcjogcHJvZHVjdC5udW1iZXIsDQogICAgICB9Ow0KICAgICAgLy/osIPnlKjmt7vliqDotK3nianovabnmoTmlrnms5UNCiAgICAgIHRoaXMuYWRkU2hvcGNhcnQob3JkZXJMaW5lKTsNCiAgICB9LA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKCJjYXRlZ29yeSIsIFsiY2F0ZWdyb3lEYXRhIl0pLA0KICAgIC4uLm1hcFN0YXRlKCJwcm9kdWN0IiwgWyJwcm9kdWN0RGF0YSJdKSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLnF1ZXJ5Q2F0ZWdvcnkoKTsNCiAgICB0aGlzLnF1ZXJ5UHJvZHVjdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"product.vue","sourceRoot":"src/views/Product","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"header\">\r\n      <van-sticky>\r\n        <van-nav-bar\r\n          title=\"服务项目\"\r\n          left-text=\"返回\"\r\n          left-arrow\r\n          @click-left=\"onClickLeft\"\r\n        />\r\n      </van-sticky>\r\n    </div>\r\n    <div class=\"contect_product\">\r\n      <!-- //左边导航栏 -->\r\n      <div class=\"leftSideBar\">\r\n        <van-sidebar v-model=\"activeKey\" @change=\"onChange\">\r\n          <van-sidebar-item\r\n            v-for=\"category in categroyData\"\r\n            :key=\"category.id\"\r\n            :title=\"category.name\"\r\n          />\r\n        </van-sidebar>\r\n      </div>\r\n      <!-- 右边产品展示栏 -->\r\n      <div class=\"rightProduct\">\r\n        <van-card\r\n          v-for=\"product in productData\"\r\n          :key=\"product.id\"\r\n          :price=\"product.price + '.00'\"\r\n          :desc=\"product.description\"\r\n          :title=\"product.name\"\r\n          :thumb=\"product.photo\"\r\n        >\r\n          <template #footer>\r\n            <van-stepper\r\n              default-value=\"0\"\r\n              :min=\"0\"\r\n              v-model=\"product.number\"\r\n              @change=\"numberChangeHandler(product)\"\r\n            />\r\n          </template>\r\n        </van-card>\r\n      </div>\r\n    </div>\r\n    <div class=\"submitBar\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//引入\r\nimport { mapActions, mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      //根据首页点击的索引，确定侧边菜单栏 默认被点击的是哪一个\r\n      activeKey: this.$route.query.key,\r\n      //首页点击跳转到产品页面时 传递的id\r\n      categoryId: this.$route.query.id,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"category\", [\"getAllCategoryData\"]),\r\n    ...mapActions(\"product\", [\"getAllProductData\"]),\r\n    ...mapActions(\"shopcart\", [\"addShopcart\", \"clearShopcart\"]),\r\n    //获取栏目数据\r\n    queryCategory() {\r\n      let data = {\r\n        page: 1,\r\n        pageSize: 100,\r\n      };\r\n      this.getAllCategoryData(data);\r\n    },\r\n    //获取产品数据\r\n    queryProduct() {\r\n      let data = {\r\n        page: 1,\r\n        pageSize: 100,\r\n        productCategoryId: this.categoryId,\r\n      };\r\n      this.getAllProductData(data);\r\n    },\r\n    //根据左边导航栏 获取不同数据\r\n    onChange(index) {\r\n      this.categoryId = this.categroyData[index].id;\r\n      this.queryProduct();\r\n    },\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    //根据监听步进器获取产品信息\r\n    numberChangeHandler(product) {\r\n      //定义一个产品参数\r\n      let orderLine = {\r\n        productId: product.id,\r\n        productName: product.name,\r\n        price: product.price,\r\n        number: product.number,\r\n      };\r\n      //调用添加购物车的方法\r\n      this.addShopcart(orderLine);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(\"category\", [\"categroyData\"]),\r\n    ...mapState(\"product\", [\"productData\"]),\r\n  },\r\n  created() {\r\n    this.queryCategory();\r\n    this.queryProduct();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 产品展示的区域 */\r\n.contect_product {\r\n  display: flex;\r\n}\r\n\r\n.van-sidebar {\r\n  width: 120px;\r\n  text-align: center;\r\n}\r\n.contect_product .rightProduct {\r\n  flex: 1;\r\n}\r\n</style>"]}]}